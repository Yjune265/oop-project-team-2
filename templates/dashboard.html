{% extends "base.html" %}
{% block title %}ëŒ€ì‹œë³´ë“œ | NutriGuide{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
        
        <div class="bg-primary text-white p-4 mx-n3 mt-n4 mb-4 shadow-sm" style="border-radius: 0 0 30px 30px;">
            <div class="d-flex justify-content-between align-items-start mb-4">
                <div>
                    <h4 class="fw-bold mb-1">ì•ˆë…•í•˜ì„¸ìš”, ê¹€ê±´ê°•ë‹˜! ğŸ‘‹</h4>
                    <p class="opacity-75 small mb-0">ì˜¤ëŠ˜ë„ ê±´ê°•í•œ í•˜ë£¨ ë˜ì„¸ìš”</p>
                </div>
                <div class="bg-white bg-opacity-25 rounded-circle p-2">
                    ğŸ”—
                </div>
            </div>

            <div class="d-flex justify-content-between text-center align-items-center mb-3 px-2">
                <div class="opacity-50"><small>ëª©</small><div class="fw-bold">20</div></div>
                <div class="opacity-50"><small>ê¸ˆ</small><div class="fw-bold">21</div></div>
                <div class="opacity-50"><small>í† </small><div class="fw-bold">22</div></div>
                <div class="bg-white text-primary rounded-4 py-2 px-3 shadow-sm">
                    <small class="fw-bold d-block">ì¼</small>
                    <div class="fw-bold fs-5">23</div>
                </div>
                <div class="opacity-50"><small>ì›”</small><div class="fw-bold">24</div></div>
            </div>
        </div>

        <div class="card border-0 shadow-sm p-4 mb-4" style="border-radius: 20px;">
            <div class="d-flex justify-content-between mb-2">
                <span class="fw-bold">ì˜¤ëŠ˜ì˜ ë³µìš© ì§„í–‰ë¥ </span>
                <span class="text-primary fw-bold" id="progressText">2/5</span>
            </div>
            <div class="progress rounded-pill bg-light" style="height: 10px;">
                <div class="progress-bar bg-primary rounded-pill" role="progressbar" style="width: 40%;" id="progressBar"></div>
            </div>
        </div>

        <h6 class="fw-bold mb-3 ps-2">ì˜¤ëŠ˜ì˜ ë³µìš© ëª©ë¡</h6>
        
        <div class="vstack gap-3 mb-5">
            <div class="card border-0 shadow-sm p-3" style="border-radius: 16px;">
                <div class="d-flex align-items-center">
                    <span class="text-muted small me-3">08:00</span>
                    <div class="bg-warning bg-opacity-10 text-warning rounded-3 d-flex align-items-center justify-content-center me-3" style="width: 48px; height: 48px; font-size: 20px;">ğŸ’Š</div>
                    <div class="flex-grow-1">
                        <h6 class="fw-bold mb-0">ë¹„íƒ€ë¯¼ D</h6>
                        <small class="text-muted">1ì •</small>
                    </div>
                    <input class="form-check-input fs-4 rounded-3 border-2" type="checkbox" checked onclick="updateProgress()">
                </div>
            </div>

            <div class="card border-0 shadow-sm p-3" style="border-radius: 16px;">
                <div class="d-flex align-items-center">
                    <span class="text-muted small me-3">08:00</span>
                    <div class="bg-primary bg-opacity-10 text-primary rounded-3 d-flex align-items-center justify-content-center me-3" style="width: 48px; height: 48px; font-size: 20px;">ğŸŸ</div>
                    <div class="flex-grow-1">
                        <h6 class="fw-bold mb-0">ì˜¤ë©”ê°€-3</h6>
                        <small class="text-muted">2ìº¡ìŠ</small>
                    </div>
                    <input class="form-check-input fs-4 rounded-3 border-2" type="checkbox" checked onclick="updateProgress()">
                </div>
            </div>

             <div class="card border-0 shadow-sm p-3" style="border-radius: 16px;">
                <div class="d-flex align-items-center">
                    <span class="text-muted small me-3">12:00</span>
                    <div class="bg-success bg-opacity-10 text-success rounded-3 d-flex align-items-center justify-content-center me-3" style="width: 48px; height: 48px; font-size: 20px;">ğŸ¥—</div>
                    <div class="flex-grow-1">
                        <h6 class="fw-bold mb-0">ì¢…í•© ë¹„íƒ€ë¯¼</h6>
                        <small class="text-muted">1ì •</small>
                    </div>
                    <input class="form-check-input fs-4 rounded-3 border-2" type="checkbox" onclick="updateProgress()">
                </div>
            </div>

            <div class="card border-0 shadow-sm p-3" style="border-radius: 16px;">
                 <div class="d-flex align-items-center">
                    <span class="text-muted small me-3">20:00</span>
                    <div class="bg-info bg-opacity-10 text-info rounded-3 d-flex align-items-center justify-content-center me-3" style="width: 48px; height: 48px; font-size: 20px;">ğŸ¦´</div>
                    <div class="flex-grow-1">
                        <h6 class="fw-bold mb-0">ë§ˆê·¸ë„¤ìŠ˜</h6>
                        <small class="text-muted">1ì •</small>
                    </div>
                    <button class="btn btn-primary rounded-circle p-0 d-flex align-items-center justify-content-center shadow" style="width: 32px; height: 32px;" onclick="location.href='/search'">
                        +
                    </button>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    function updateProgress() {
        // ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë³€ê²½ ì‹œ í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì—…ë°ì´íŠ¸ ë¡œì§ (ê°„ë‹¨ êµ¬í˜„)
        const checkboxes = document.querySelectorAll('.form-check-input[type="checkbox"]');
        const checked = document.querySelectorAll('.form-check-input[type="checkbox"]:checked');
        const percent = (checked.length / checkboxes.length) * 100;
        
        document.getElementById('progressBar').style.width = percent + '%';
        document.getElementById('progressText').innerText = checked.length + '/' + checkboxes.length;
    }
</script>
{% endblock %}